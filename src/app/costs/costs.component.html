<!-- ngFor keyvalue pipe = https://stackoverflow.com/questions/41396435/how-to-iterate-object-keys-using-ngfor/41396558 -->

<form (ngSubmit)="onSubmit()" #costsForm="ngForm">
  <mat-form-field *ngFor="let cost of costs; let i = index" appearance="standard" >
    <mat-label for="cost">{{ cost.name }}: <b>{{cost.value | currency: 'USD'}}</b></mat-label>
      <input type="number" required matInput (click)="setCostIndex(i);" [ngModel]="cost.value" (ngModelChange)="costsModelChanged.next($event)" name="cost" id="cost">
  </mat-form-field>
  <button type="submit">Submit new cost.</button>
</form>

<span *ngIf="updated">Costs have been updated.</span>
<span *ngIf="failed">Costs have not been updated. Please remove your response and try again.</span>

<div>
  Total Cost = {{ totalCost | currency: 'USD' }}
</div>
